<html>
  <head>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <a-scene embedded arjs="patternRatio:0.80">
      <a-marker
        type="pattern"
        url="https://cdn.glitch.global/6cf5a9e4-9c38-48a4-801d-55842977a64a/pattern-comment-ar_QR.patt?v=1715924488635"
      >
        <!--         店内写真 -->
        <!--         <a-image
          id="image-store"
          width="2"
          height="1"
          position="0 0 3"
          rotation="-90 0 0"
          src="https://cdn.glitch.global/6cf5a9e4-9c38-48a4-801d-55842977a64a/image-test.png?v=1716092095577"
        ></a-image> -->

        <!--         メニュー写真 -->
        <a-image
          id="image-menu"
          width="2"
          height="1"
          position="0 0.3 1.4"
          rotation="-90 0 0"
          src="https://cdn.glitch.global/6cf5a9e4-9c38-48a4-801d-55842977a64a/menu1.jpg?v=1716124826160"
        ></a-image>
        <a-image
          id="recommend"
          width="1.2"
          height="0.5"
          position="0 0.25 2.2"
          rotation="-90 0 0"
          src="https://cdn.glitch.global/6cf5a9e4-9c38-48a4-801d-55842977a64a/recommended_ja.png?v=1716856893070"
        ></a-image>
        <a-plane
          position="0 0 1.7"
          rotation="-90 0 0"
          width="2.5"
          height="1.8"
          color="lightgreen"
        ></a-plane>

        <!--         メニュー写真切り替えボタン -->
        <a-cone
          id="next"
          color="yellow"
          height="0.4"
          radius-bottom="0.18"
          position="0.5 0 0.4"
          rotation="0 0 -90"
        ></a-cone>
        <a-cone
          id="prev"
          color="yellow"
          height="0.4"
          radius-bottom="0.18"
          position="-0.5 0 0.4"
          rotation="0 0 90"
        ></a-cone>

        <!--         翻訳ボタン -->
        <a-cylinder
          segments-radial="8"
          radius="0.5"
          height="0.2"
          position="0 0 -0.3"
          color="lightpink"
        ></a-cylinder>
        <a-image
          id="trans"
          rotation="-90 0 0"
          position="0 0.35 -0.3"
          height="0.65"
          width="0.65"
          src="https://cdn.glitch.global/6cf5a9e4-9c38-48a4-801d-55842977a64a/translate_en.png?v=1716899270285"
        ></a-image>

        <!--         口コミサイト -->
        <a-plane
          position="1.7 0 -1.7"
          rotation="-90 0 0"
          width="2.5"
          height="1.5"
          color="orange"
          link="href: https://tabelog.com/kanagawa/A1407/A140701/14067650/dtlrvwlst/"
        ></a-plane>
        <a-image
          id="reviews"
          rotation="-90 0 0"
          position="1.7 0.3 -1.7"
          height="1"
          width="2"
          src="https://cdn.glitch.global/6cf5a9e4-9c38-48a4-801d-55842977a64a/Reviews_ja.png?v=1716387425839"
        ></a-image>

        <!--         店舗情報 -->
        <a-plane
          position="-1.7 0 -1.7"
          rotation="-90 0 0"
          width="2.5"
          height="1.5"
          color="lightblue"
        ></a-plane>
        <a-image
          id="info"
          position="-1.7 0.3 -1.7"
          rotation="-90 0 0"
          height="1"
          width="2"
          src="https://cdn.glitch.global/6cf5a9e4-9c38-48a4-801d-55842977a64a/info_ja.png?v=1716694449284"
        ></a-image>
      </a-marker>
      <a-entity camera cursor="fuse: false; rayOrigin: mouse;"></a-entity>
    </a-scene>

    <script>
      // document.addEventListener("DOMContentLoaded", function() {

      // 店内写真拡大
      //       AFRAME.registerComponent("image-zoom", {
      //         init: function () {
      //           var el = this.el;
      //           el.addEventListener("click", function () {
      //             var currentScale = el.getAttribute("scale");
      //             console.log("Current scale:", currentScale);

      //             if (currentScale.x === 1) {
      //               console.log("Zooming in");
      //               el.setAttribute("scale", { x: 1.5, y: 1.5, z: 1.5 });
      //             } else {
      //               console.log("Zooming out");
      //               el.setAttribute("scale", { x: 1, y: 1, z: 1 });
      //             }
      //           });
      //         },
      //       });

      //       document.querySelector("#image-store").setAttribute("image-zoom", "");

      // 翻訳
      const reviews = document.getElementById("reviews");
      const info = document.getElementById("info");
      const transButton = document.getElementById("trans");
      const recommend = document.getElementById("recommend");

      let isJapanese = true;

      transButton.addEventListener("click", () => {
        if (isJapanese) {
          reviews.setAttribute(
            "src",
            "https://cdn.glitch.global/6cf5a9e4-9c38-48a4-801d-55842977a64a/Reviews.png?v=1716388552116"
          );
          info.setAttribute(
            "src",
            "https://cdn.glitch.global/6cf5a9e4-9c38-48a4-801d-55842977a64a/info.png?v=1716694440643"
          );
          transButton.setAttribute(
            "src",
            "https://cdn.glitch.global/6cf5a9e4-9c38-48a4-801d-55842977a64a/translate_ja.png?v=1716899274052"
          );
          recommend.setAttribute(
            "src",
            "https://cdn.glitch.global/6cf5a9e4-9c38-48a4-801d-55842977a64a/recommend_en.png?v=1716856890705"
          );
        } else {
          reviews.setAttribute(
            "src",
            "https://cdn.glitch.global/6cf5a9e4-9c38-48a4-801d-55842977a64a/Reviews_ja.png?v=1716387425839"
          );
          info.setAttribute(
            "src",
            "https://cdn.glitch.global/6cf5a9e4-9c38-48a4-801d-55842977a64a/info_ja.png?v=1716694449284"
          );
          transButton.setAttribute(
            "src",
            "https://cdn.glitch.global/6cf5a9e4-9c38-48a4-801d-55842977a64a/translate_en.png?v=1716899270285"
          );
          recommend.setAttribute(
            "src",
            "https://cdn.glitch.global/6cf5a9e4-9c38-48a4-801d-55842977a64a/recommended_ja.png?v=1716856893070"
          );
        }
        isJapanese = !isJapanese;
      });

      // メニュー写真切り替え
      const imageNext = document.getElementById("next");
      const imagePrev = document.getElementById("prev");
      const imageNow = document.getElementById("image-menu");
      const imageMenuSrc = [
        "https://cdn.glitch.global/6cf5a9e4-9c38-48a4-801d-55842977a64a/menu1.jpg?v=1716124826160",
        "https://cdn.glitch.global/6cf5a9e4-9c38-48a4-801d-55842977a64a/menu2.jpg?v=1716124827782",
        "https://cdn.glitch.global/6cf5a9e4-9c38-48a4-801d-55842977a64a/menu3.jpg?v=1716124829182",
        "https://cdn.glitch.global/6cf5a9e4-9c38-48a4-801d-55842977a64a/menu4.jpg?v=1716124826969",
        "https://cdn.glitch.global/6cf5a9e4-9c38-48a4-801d-55842977a64a/menu5.jpg?v=1716124828449",
      ];

      let current = 0;
      function changeImage(num) {
        if (current + num >= 0 && current + num < imageMenuSrc.length) {
          current += num;
          imageNow.setAttribute("src", imageMenuSrc[current]);
        }
      }

      imageNext.addEventListener("click", () => {
        changeImage(1);
      });

      imagePrev.addEventListener("click", () => {
        changeImage(-1);
      });

      // メニュー写真拡大
      // let isZoomed = false;
      // const imageMenu = document.getElementById("image-menu");
      //       imageMenu.addEventListener("click", () => {
      //         if (isZoomed) {
      //           imageMenu.setAttribute("width", "2");
      //           imageMenu.setAttribute("height", "1");
      //         } else {
      //           imageMenu.setAttribute("width", "3.5");
      //           imageMenu.setAttribute("height", "2.5");
      //         }
      //         isZoomed = !isZoomed;
      //       });
      // });
    </script>
  </body>
</html>
